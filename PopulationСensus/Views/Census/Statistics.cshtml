﻿@{
}
<!DOCTYPE HTML>
<html>
<head>
    <link rel="shortcut icon" href="/favicon.png" type="image/png">
    <link rel="stylesheet" href="/styles/statistics.css">
    <script src="/scripts/canvasjs.min.js"></script>
    @if (User.IsInRole("admin"))
    {
        <script>
            window.onload = function () {

                var chart = new CanvasJS.Chart("numberPeoplePassed", {
                    animationEnabled: true,
                    theme: "light2", // "light1", "dark1", "dark2"
                    backgroundColor: "#f4f4f8",
                    exportEnabled: true,
                    title: {
                        text: "Число людей прошедший перепись",
                        titleFontSize: 16
                    },
                    data: [{
                        type: "line",
                        dataPoints: @Html.Raw(ViewBag.DataPointsNumberPeoplePassed)
                                                       }]
                });
                chart.render();


                var chart2 = new CanvasJS.Chart("RegisteredButNotPass", {
                    theme: "light1", // "light1", "light2", "dark1", "dark2"
                    exportEnabled: true,
                    animationEnabled: true,
                    title: {
                        text: "Число людей которые проголосовали к числу людей которые  зарегистрировались но не прошли перепись"
                    },
                    subtitles: [{
                        text: "Q2, 2016"
                    }],
                    data: [{
                        type: "pie",
                        startAngle: 180,
                        toolTipContent: "<b>{label}</b>: {y}%",
                        showInLegend: "true",
                        legendText: "{label}",
                        indexLabel: "{label} - {y}%",
                        dataPoints: @Html.Raw(ViewBag.RegisteredButNotPass)
                    }]
                });
                chart2.render();

            }
        </script>
    }
    else
    {
        <script>
            window.onload = function () {

                var chart = new CanvasJS.Chart("numberPeoplePassed", {
                    animationEnabled: true,
                    theme: "light2", // "light1", "dark1", "dark2"
                    backgroundColor: "#f4f4f8",
                    exportEnabled: true,
                    title: {
                        text: "Число людей прошедший перепись",
                        titleFontSize: 16
                    },
                    data: [{
                        type: "line",
                        dataPoints: @Html.Raw(ViewBag.DataPointsNumberPeoplePassed)
                                                                  
                    }]
                });
                chart.render();

            }
        </script>
    }
</head>
<body>
    <div class="containner">
        <div id="numberPeoplePassed" class="mt-80">
        </div>
        @if (User.IsInRole("admin"))
        {
            <div id="RegisteredButNotPass">
   
            </div>
        }
    </div>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript"></script>
</body>
</html>