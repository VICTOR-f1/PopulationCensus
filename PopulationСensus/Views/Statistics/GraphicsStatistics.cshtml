﻿@{
}
<!DOCTYPE HTML>
<html>
<head>
    <link rel="shortcut icon" href="/favicon.png" type="image/png">
    <link rel="stylesheet" href="/styles/statistics.css">
    <script src="/scripts/canvasjs.min.js"></script>
    <title>Визуализация данных переписи</title>
    @if (User.IsInRole("admin"))
    {
        <script>
            window.onload = function () {

                var chart = new CanvasJS.Chart("numberPeoplePassed", {
                    animationEnabled: true,
                    theme: "light2",
                    backgroundColor: "#f4f4f8",
                    exportEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Число людей прошедших перепись"
                    },
                    data: [{
                        type: "line",
                        dataPoints: @Html.Raw(ViewBag.DataPointsNumberPeoplePassed)
                                }]
                });
                chart.render();

                var chart2 = new CanvasJS.Chart("registeredButNotPass", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Число людей которые проголосовали к числу людей которые  зарегистрировались но не прошли перепись"
                    },
                    data: [{
                        type: "pie",
                        startAngle: 180,
                        toolTipContent: "<b>{label}</b>: {y}",
                        showInLegend: "true",
                        legendText: "{label}",
                        indexLabel: "{label} - {y}",
                        dataPoints: @Html.Raw(ViewBag.RegisteredButNotPass)
                                }]
                });
                chart2.render();

                var chart3 = new CanvasJS.Chart("Education", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Образование"
                    },
                    data: [{
                        type: "column",
                        dataPoints: @Html.Raw(ViewBag.Education)
                                }]
                });
                chart3.render();



                var chart4 = new CanvasJS.Chart("Nationality", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Национальность"
                    },
                    data: [{
                        type: "column",
                        dataPoints: @Html.Raw(ViewBag.Nationality)
                                }]
                });
                chart4.render();

                var chart5 = new CanvasJS.Chart("Gender", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Количетсво мужчин к количеству женщин"
                    },
                    data: [{
                        type: "pie",
                        startAngle: 180,
                        toolTipContent: "<b>{label}</b>: {y}",
                        showInLegend: "true",
                        legendText: "{label}",
                        indexLabel: "{label} - {y}",
                        dataPoints: @Html.Raw(ViewBag.Gender)
                                }]
                });
                chart5.render();

                var chart6 = new CanvasJS.Chart("MaritalStatus", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Состояние в браке"
                    },
                    axisX: {
                        lineThickness: 0
                    },
                    axisY: {
                        valueFormatString: " ",
                        includeZero: true,
                        gridThickness: 0,
                        tickLength: 0
                    },
                    data: [{
                        type: "bar",
                        indexLabel: "{y}",
                        dataPoints: @Html.Raw(ViewBag.MaritalStatus)

                                }]
                });
                chart6.render();

                var chart7 = new CanvasJS.Chart("State", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Районы"
                    },
                    axisX: {
                        lineThickness: 0
                    },
                    axisY: {
                        valueFormatString: " ",
                        includeZero: true,
                        gridThickness: 0,
                        tickLength: 0
                    },
                    data: [{
                        type: "bar",
                        indexLabel: "{y}",
                        dataPoints: @Html.Raw(ViewBag.State)

                                            }]
                });
                chart7.render();

                var chart8 = new CanvasJS.Chart("GettingEducation", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Получают образование"
                    },
                    axisX: {
                        lineThickness: 0
                    },
                    axisY: {
                        valueFormatString: " ",
                        includeZero: true,
                        gridThickness: 0,
                        tickLength: 0
                    },
                    data: [{
                        type: "bar",
                        indexLabel: "{y}",
                        dataPoints: @Html.Raw(ViewBag.GettingEducation)

                                                        }]
                });
                chart8.render();


                var chart15 = new CanvasJS.Chart("WhoWereMainJob", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Кем вы являлись на основной работе"
                    },
                    axisX: {
                        lineThickness: 0
                    },
                    axisY: {
                        valueFormatString: " ",
                        includeZero: true,
                        gridThickness: 0,
                        tickLength: 0
                    },
                    data: [{
                        type: "bar",
                        indexLabel: "{y}",
                        dataPoints: @Html.Raw(ViewBag.WhoWereMainJob)

                                            }]
                });
                chart15.render();

                var chart16 = new CanvasJS.Chart("TypeOfDwelling", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Тип жилища"
                    },
                    axisX: {
                        lineThickness: 0
                    },
                    axisY: {
                        valueFormatString: " ",
                        includeZero: true,
                        gridThickness: 0,
                        tickLength: 0
                    },
                    data: [{
                        type: "bar",
                        indexLabel: "{y}",
                        dataPoints: @Html.Raw(ViewBag.TypeOfDwelling)

                                                        }]
                });
                chart16.render();

                var chart17 = new CanvasJS.Chart("Heating", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Отопление"
                    },
                    data: [{
                        type: "column",
                        dataPoints: @Html.Raw(ViewBag.Heating)
                                            }]
                });
                chart17.render();

                var chart18 = new CanvasJS.Chart("WaterSupply", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Водоснабжение"
                    },
                    axisX: {
                        lineThickness: 0
                    },
                    axisY: {
                        valueFormatString: " ",
                        includeZero: true,
                        gridThickness: 0,
                        tickLength: 0
                    },
                    data: [{
                        type: "bar",
                        indexLabel: "{y}",
                        dataPoints: @Html.Raw(ViewBag.WaterSupply)
                                            }]
                });
                chart18.render();

                var chart19 = new CanvasJS.Chart("HotWaterSupply", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Горячее водоснабжение"
                    },
                    axisX: {
                        lineThickness: 0
                    },
                    axisY: {
                        valueFormatString: " ",
                        includeZero: true,
                        gridThickness: 0,
                        tickLength: 0
                    },
                    data: [{
                        type: "bar",
                        indexLabel: "{y}",
                        dataPoints: @Html.Raw(ViewBag.HotWaterSupply)
                                            }]
                });
                chart19.render();

                var chart20 = new CanvasJS.Chart("WaterDisposalSewerage", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Водоотведение(канализация)"
                    },
                    axisX: {
                        lineThickness: 0
                    },
                    axisY: {
                        valueFormatString: " ",
                        includeZero: true,
                        gridThickness: 0,
                        tickLength: 0
                    },
                    data: [{
                        type: "bar",
                        indexLabel: "{y}",
                        dataPoints: @Html.Raw(ViewBag.WaterDisposalSewerage)
                                                        }]
                });
                chart20.render();

                var chart21 = new CanvasJS.Chart("DisposalOfHouseholdWaste", {
                    theme: "light1",
                    exportEnabled: true,
                    backgroundColor: "#f4f4f8",
                    animationEnabled: true,
                    title: {
                        fontSize: 26,
                        text: "Удаление бытовых отходов"
                    },
                    axisX: {
                        lineThickness: 0
                    },
                    axisY: {
                        valueFormatString: " ",
                        includeZero: true,
                        gridThickness: 0,
                        tickLength: 0
                    },
                    data: [{
                        type: "bar",
                        indexLabel: "{y}",
                        dataPoints: @Html.Raw(ViewBag.DisposalOfHouseholdWaste)
                                                                    }]
                });
                chart21.render();

            }
        </script>
    }
    else
    {
        <script>
            window.onload = function () {

                var chart = new CanvasJS.Chart("numberPeoplePassed", {
                    animationEnabled: true,
                    theme: "light2",
                    backgroundColor: "#f4f4f8",
                    exportEnabled: true,
                    title: {
                        text: "Число людей прошедший перепись",
                        titleFontSize: 16
                    },
                    data: [{
                        type: "line",
                        dataPoints: @Html.Raw(ViewBag.DataPointsNumberPeoplePassed)
                                }]
                });
                chart.render();
            }
        </script>
    }
</head>
<body>
    <div class="containner">
        <div id="numberPeoplePassed" class="mt-80 chart-first"></div>
        @if (User.IsInRole("admin"))
        {
            <div class="chart" id="registeredButNotPass"></div>
            <div class="chart" id="Education"></div>
            <div class="chart" id="Nationality"></div>
            <div class="chart" id="Gender"></div>
            <div class="chart" id="MaritalStatus"></div>
            <div class="chart " id="State"></div>
            <div class="chart " id="GettingEducation"></div>
            <div class="chart " id="WhoWereMainJob"></div>
            <div class="chart " id="TypeOfDwelling"></div>
            <div class="chart " id="Heating"></div>
            <div class="chart " id="WaterSupply"></div>
            <div class="chart " id="HotWaterSupply"></div>
            <div class="chart " id="WaterDisposalSewerage"></div>
            <div class="chart mb-60" id="DisposalOfHouseholdWaste"></div>

        }
    </div>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript"></script>
</body>
</html>